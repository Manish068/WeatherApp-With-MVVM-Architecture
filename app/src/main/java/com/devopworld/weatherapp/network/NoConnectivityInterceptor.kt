package com.devopworld.weatherapp.networkimport android.content.Contextimport com.devopworld.weatherapp.Util.NetworkUtilimport okhttp3.Interceptorimport okhttp3.Responseimport okio.IOExceptionclass NoConnectivityInterceptor (context: Context): Interceptor {    private lateinit var mContext:Context    init {        mContext = context;    }    @Throws(IOException::class)    override fun intercept(chain: Interceptor.Chain): Response {        //if internet is not available throw NoConnectivityException        if(!NetworkUtil.isNetworkAvailable(mContext)){            throw NoConnectivityException()        }        val builder = chain.request().newBuilder()        return chain.proceed(builder.build())    }}class NoConnectivityException: IOException(){    //we can send an exception message from here    override val message: String?        get() = "No Internet Connection"}